---
import BaseLayout from "../layouts/BaseLayout.astro";
import PostCard from "../components/PostCard.astro";
import { getCollection } from "astro:content";

const posts = (await getCollection("posts"))
    .filter((post) => !post.data.draft)
    .sort((a, b) => b.data.pubDate.valueOf() - a.data.pubDate.valueOf());
---

<BaseLayout title="tazy.dev">
    <div class="index-content framed">
        <h1 id="hello-there">Salutations</h1>
        <p>Im still writing this so hold up like 2 hours</p>
        <p>thx for visiting anyway</p>
    </div>

    <div class="posts">
        {posts.map((post) => <PostCard post={post} />)}
    </div>
</BaseLayout>
